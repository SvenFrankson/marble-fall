/// <reference path="./Track.ts"/>

class Loop extends Track {
    constructor(game: Game, i: number, j: number) {
        super(game, i, j);

        this.deltaI = 1;
        this.deltaJ = 5;

        this.deserialize({
            points: [
                { position: { x: -0.075, y: 0, z: 0 }, normal: { x: 0, y: 1, z: 0 }, dir: { x: 1, y: 0, z: 0 } },
                { position: { x: -0.021377184932923343, y: -0.01583222287100921, z: -0.0011959569465675992 }, normal: { x: 0.4398662405979406, y: 0.8980469512393863, z: -0.005418833073501488 } },
                { position: { x: 0.02003455284141903, y: -0.04654967585480928, z: -0.00024045718222969392 }, normal: { x: 0.5980810041031908, y: 0.8014185564474127, z: -0.005235447704309637 } },
                { position: { x: 0.051982154546812154, y: -0.07056944621963705, z: 0.00021765594923375126 }, normal: { x: 0.4737950790675474, y: 0.8806350934588976, z: 0.00023498939378300459 } },
                { position: { x: 0.07951769517505025, y: -0.07855262586109861, z: 0.00018826259283915778 }, normal: { x: 0.10121057473644852, y: 0.994848482547003, z: 0.005737275960176982 } },
                { position: { x: 0.10010155106612612, y: -0.07546427636281762, z: 0.00011700933116668777 }, normal: { x: -0.5053588983921328, y: 0.8628989498588606, z: -0.004217362726349042 } },
                { position: { x: 0.11491616135931326, y: -0.05782715123020894, z: -0.0009829862775288726 }, normal: { x: -0.9599350956499557, y: 0.2794161576809643, z: -0.021242009469839607 } },
                { position: { x: 0.11252630195336205, y: -0.03307738562784979, z: -0.0038078682222728814 }, normal: { x: -0.890970312274938, y: -0.4538877985979476, z: 0.012560610200492529 } },
                { position: { x: 0.0949282434179991, y: -0.01882721427055359, z: -0.00950533957988787 }, normal: { x: -0.2799444640350821, y: -0.9579963484757484, z: -0.062242215282261856 } },
                { position: { x: 0.07179482958257077, y: -0.02051101082314377, z: -0.014025868519995871 }, normal: { x: 0.45291999494460516, y: -0.8899826679585553, z: -0.052861412322706545 } },
                { position: { x: 0.056687728890422895, y: -0.037825886177043425, z: -0.017288047559582208 }, normal: { x: 0.9266850129058358, y: -0.37540932659737863, z: -0.017964530592639416 } },
                { position: { x: 0.056878026596374254, y: -0.05712007547690236, z: -0.018467590965146805 }, normal: { x: 0.9324289169619076, y: 0.3584159747709198, z: -0.045981559806681366 } },
                { position: { x: 0.07150740001184758, y: -0.07637907827010613, z: -0.017283481187389347 }, normal: { x: 0.49107331627599876, y: 0.8707351144080051, z: 0.025833284316388306 } },
                { position: { x: 0.1448915461951915, y: -0.10721515365003756, z: -0.003043587072762862 }, normal: { x: 0.08863475760013599, y: 0.9960618315915217, z: -0.002169652439524198 } },
                { position: { x: 0.225, y: -0.09, z: 0 }, normal: { x: 0, y: 1, z: 0 }, dir: { x: 1, y: 0, z: 0 } },
            ],
        });
        
        this.generateWires();
    }
}
